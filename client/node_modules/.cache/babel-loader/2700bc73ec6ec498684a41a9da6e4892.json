{"ast":null,"code":"var _jsxFileName = \"/home/sonia/projects/AdvancedTodo/client/src/components/ChildList.js\",\n    _s = $RefreshSig$();\n\nimport react from 'react';\nimport React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { useContext } from 'react';\nimport { ListContext } from '../context/ListContext.js';\nimport Axios from 'axios';\nimport { useRef, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ChildList = () => {\n  _s();\n\n  const [task, setTasks] = useState(\"\");\n  const [items, setItems] = useState([]);\n  const [toggleBtn, setToggleBtn] = useState(true);\n  const [isEditItem, setIsEditItem] = useState(null);\n  const {\n    optionname,\n    setOptionname\n  } = useContext(ListContext);\n  const [validatevalue, setValidatevalue] = useState(\"\");\n  const [tskList, settskList] = useState([]);\n  const [showallCheck, setShowallCheck] = useState(\"\");\n  const {\n    username,\n    SetUsername,\n    userid,\n    SetUserid\n  } = useContext(ListContext);\n  const [fetchid, setFetchid] = useState([]);\n  const [getid, setGetid] = useState(10);\n  let history = useHistory();\n\n  function passData(val) {\n    if (val.length > 0) {\n      var name = val[0].toUpperCase() + val.slice(1);\n    }\n\n    setTasks(name);\n    return val.length < 15 ? '' : setValidatevalue(\"max char 15\");\n  }\n\n  const deleteItem = (id, task_del) => {\n    const updatedItems = items.filter((elm, ind) => {\n      return ind !== id;\n    });\n    deleteTask(task_del);\n    setItems(updatedItems);\n  };\n\n  const deleteTask = childtask_id => {\n    // alert(\"del=\"+task_del)\n    let taskid = childtask_id;\n    let todolistId = fetchid;\n    alert(taskid);\n    Axios.delete(`http://localhost:4000/users/${userid}/todolists/${todolistId}/tasks/${taskid}`);\n  };\n\n  const updateTask = (tasname, childtodo_id) => {\n    let taskid = childtodo_id,\n        todolistid = fetchid;\n    alert(taskid);\n    Axios.put(`http://localhost:4000/users/${userid}/todolists/${todolistid}/tasks/${taskid}`, {\n      tasname: tasname\n    }).then(response => {\n      alert(\"update\");\n    });\n  };\n\n  const addItem = () => {\n    if (!task) {} else if (task && !toggleBtn) {\n      setItems(items.map(elem => {\n        //alert(\"elem=\"+elem.childtodo_id)\n        // alert(\"isedit=\"+isEditItem)\n        if (elem.childtodo_id === isEditItem) {\n          setToggleBtn(true);\n          setTasks(\" \");\n          updateTask(task, elem.childtodo_id);\n          return { ...elem,\n            childtask_name: task\n          };\n        }\n\n        return elem;\n      }));\n    } else {\n      setGetid(parseInt(getid + 1));\n      alert(getid);\n      setItems([{\n        childtodo_id: getid,\n        childtask_name: task,\n        child_status: false\n      }, ...items]);\n      setTasks(\"\");\n    }\n  };\n\n  const inputRef = useRef();\n  useEffect(() => {\n    inputRef.current.focus();\n  });\n\n  const submitTask = () => {\n    let todolist_id = fetchid;\n\n    if (task) {\n      Axios.post(`http://localhost:4000/users/${userid}/todolists/${todolist_id}/tasks`, {\n        task: task,\n        text: optionname,\n        Todoid: fetchid,\n        childtask_id: getid\n      }).then(() => {\n        alert(\"successful insert\");\n      });\n      addItem();\n    }\n  };\n\n  const editItem = id => {\n    let newEditItem = items.find(elem => {\n      //alert(\"elem=\"+elem.childtodo_id)\n      //alert(\"id=\"+id)\n      return elem.childtodo_id === id;\n    });\n    setToggleBtn(false);\n    setTasks(newEditItem.childtask_name);\n    setIsEditItem(id);\n  };\n\n  useEffect(() => {\n    Axios.get(`http://localhost:4000/fetchTaskid/${optionname}`, {}).then(response => {\n      var todoid = response.data[0].Todoid;\n      setFetchid(todoid);\n      Axios.get(`http://localhost:4000/fetchdisplay/${todoid}`, {}).then(response => {\n        //setItems([{id:Date.now(),childtask_name:task,child_status:false});\n        setItems(response.data);\n      }).catch(err => {\n        console.log(err);\n      });\n    }).catch(err => {\n      console.log(err);\n    }); // SetUsername( response.data[0].user)\n  }, []);\n\n  const getTask = e => {\n    let todolistid = fetchid;\n    Axios.get(`http://localhost:4000/users/${userid}/todolists/${todolistid}`, {}).then(response => settskList(response.data));\n    setShowallCheck(e.target.checked);\n  };\n\n  const updateTaskStatus = (txt, status, childtodo_id) => {\n    // alert(\"update\"+txt)\n    let taskid = childtodo_id;\n    let todolistId = fetchid;\n    Axios.put(`http://localhost:4000/users/${userid}/todolists/${todolistId}/tasks/${taskid}`, {\n      status: status,\n      txtupdate: txt\n    }).then(response => {\n      alert(\"update\");\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(react.Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"parent_div\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"secondcontainer\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            id: \"x\",\n            class: \"closebtn\",\n            onClick: () => {\n              history.push(\"/\");\n            },\n            children: \" X\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 27\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            class: \"heading\",\n            children: [\" \", optionname]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 27\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 72\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            class: \"thirdcontainer\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              class: \"todonametxt\",\n              ref: inputRef,\n              title: validatevalue,\n              value: task,\n              autoComplete: \"off\",\n              maxLength: \"20\",\n              onChange: e => passData(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 283,\n              columnNumber: 27\n            }, this), \"\\xA0\\xA0\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            class: \"imgbutton\",\n            children: toggleBtn ? /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: submitTask,\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                class: \"plusimage\",\n                title: \"\",\n                src: \"/image/plus.png\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 288,\n                columnNumber: 70\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 41\n            }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: addItem,\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                class: \"plusimage\",\n                title: \"edit\",\n                src: \"https://img.icons8.com/color/48/000000/edit-property.png\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 288,\n                columnNumber: 166\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 140\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 27\n          }, this), items.map((elm, ind) => {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"hhh\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                name: \"taskname\",\n                onChange: e => {\n                  // alert(\"elmout\"+elm.id)\n                  setItems(items.filter(obj2 => {\n                    if (obj2.childtodo_id === elm.childtodo_id) {\n                      obj2.child_status = e.target.checked;\n                      updateTaskStatus(obj2.childtask_name, obj2.child_status, obj2.childtodo_id);\n                    }\n\n                    return obj2;\n                  }));\n                },\n                value: elm.childtask_name,\n                checked: elm.child_status == 0 ? false : true,\n                class: \"optionbtn\",\n                name: \"option\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 304,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                style: {\n                  textDecoration: elm.child_status == 1 ? \"line-through\" : \"none\"\n                },\n                name: \"text\",\n                children: elm.childtask_name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 338,\n                columnNumber: 10\n              }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                title: \"edit item\",\n                class: \"editimg\",\n                src: \"https://img.icons8.com/color/48/000000/edit-property.png\",\n                onClick: () => editItem(elm.childtodo_id)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 339,\n                columnNumber: 10\n              }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n                class: \"fa fa-trash\",\n                title: \"delete Item\",\n                onClick: () => deleteItem(ind, elm.childtodo_id)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 340,\n                columnNumber: 10\n              }, this)]\n            }, ind, true, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 17\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 27\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"third_div\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            class: \"\",\n            value: \"0\",\n            name: \"\",\n            checked: showallCheck,\n            onChange: getTask\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 27\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            class: \"showcomplete_txt\",\n            children: /*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"completed Task\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 374,\n              columnNumber: 2\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 372,\n            columnNumber: 1\n          }, this), tskList.map((val, key) => {\n            if (showallCheck === true) {\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"showcheck\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: \"Task Name:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 383,\n                  columnNumber: 14\n                }, this), \"\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"h5\", {\n                  children: val.childtask_name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 383,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: \"\\xA0\\xA0Created Date:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 384,\n                  columnNumber: 14\n                }, this), \"\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"h5\", {\n                  children: val.child_date\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 384,\n                  columnNumber: 60\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 382,\n                columnNumber: 14\n              }, this);\n            } else {\n              return null;\n            }\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 27\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          class: \"newbtn\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"button\",\n            class: \"newbtn\",\n            value: \" +   Cancel\",\n            onClick: () => history.push(\"/taskinsert\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 406,\n            columnNumber: 40\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 406,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 20\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 11\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 271,\n    columnNumber: 9\n  }, this);\n};\n\n_s(ChildList, \"fLH7g0VqbW0RWTiAZ3II79qr6V4=\", false, function () {\n  return [useHistory];\n});\n\n_c = ChildList;\nexport default ChildList;\n\nvar _c;\n\n$RefreshReg$(_c, \"ChildList\");","map":{"version":3,"sources":["/home/sonia/projects/AdvancedTodo/client/src/components/ChildList.js"],"names":["react","React","useState","useHistory","useContext","ListContext","Axios","useRef","useEffect","ChildList","task","setTasks","items","setItems","toggleBtn","setToggleBtn","isEditItem","setIsEditItem","optionname","setOptionname","validatevalue","setValidatevalue","tskList","settskList","showallCheck","setShowallCheck","username","SetUsername","userid","SetUserid","fetchid","setFetchid","getid","setGetid","history","passData","val","length","name","toUpperCase","slice","deleteItem","id","task_del","updatedItems","filter","elm","ind","deleteTask","childtask_id","taskid","todolistId","alert","delete","updateTask","tasname","childtodo_id","todolistid","put","then","response","addItem","map","elem","childtask_name","parseInt","child_status","inputRef","current","focus","submitTask","todolist_id","post","text","Todoid","editItem","newEditItem","find","get","todoid","data","catch","err","console","log","getTask","e","target","checked","updateTaskStatus","txt","status","txtupdate","push","value","obj2","textDecoration","key","child_date"],"mappings":"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","sourcesContent":["import react from 'react';\nimport React, { useState} from \"react\";\nimport {useHistory} from \"react-router-dom\";\nimport{useContext} from 'react';\nimport {ListContext} from '../context/ListContext.js'\nimport Axios from 'axios';\nimport  { useRef, useEffect } from 'react';\n\n\nconst ChildList=()=>{\n\n    const [task,setTasks] = useState(\"\");\n    const [items,setItems]=useState([]);\n    \n    const[toggleBtn,setToggleBtn]=useState(true);\n    const[isEditItem,setIsEditItem]=useState(null);\n    \n    const{optionname,setOptionname}=useContext(ListContext)\n    const[validatevalue,setValidatevalue]=useState(\"\")\n    const[tskList,settskList]=useState([])\n    const[showallCheck,setShowallCheck]=useState(\"\")\n    const{username,SetUsername,userid,SetUserid}=useContext(ListContext);\n    const[fetchid,setFetchid]=useState([])\n    const[getid,setGetid]=useState(10)\n    let history=useHistory();\n\n    \n   \n\n  function passData(val)\n  {\n  \n    if(val.length>0)\n      {\n         var name= val[0].toUpperCase()+val.slice(1)\n\n      }\n\n      setTasks(name);\n\n\n     return val.length<15 ?'':setValidatevalue(\"max char 15\");\n\n     }\n\n\n\n     const deleteItem=(id,task_del)=>{\n      const updatedItems=items.filter((elm,ind)=>{\n        \n             return ind!==id;\n       \n                     } ) ;\n             deleteTask(task_del);\n             setItems(updatedItems);\n\n             } \n\n\n\n        const deleteTask=(childtask_id)=>{\n         // alert(\"del=\"+task_del)\n         let taskid=childtask_id\n         let todolistId=fetchid\n         alert(taskid)\n\n          Axios.delete(`http://localhost:4000/users/${userid}/todolists/${todolistId}/tasks/${taskid}`);\n      \n             };\n\n\n\n         \n          const updateTask=(tasname,childtodo_id)=>{\n            let taskid=childtodo_id,todolistid=fetchid\n\nalert(taskid)                       \n          Axios.put(`http://localhost:4000/users/${userid}/todolists/${todolistid}/tasks/${taskid}`,\n              {\n                tasname:tasname\n              \n              }).then((response)=>\n            \n             { alert(\"update\");\n          \n             }\n              \n             );\n            \n            \n             }\n\n\n\n\n\n\n  const addItem=()=>{\n    if(!task){\n    }else if(task && !toggleBtn){\n\n        setItems(\n           items.map((elem)=>{\n          \n          //alert(\"elem=\"+elem.childtodo_id)\n         // alert(\"isedit=\"+isEditItem)\n          if(elem.childtodo_id===isEditItem){\n             setToggleBtn(true)\n          \n              setTasks(\" \")\n            \n            \n              updateTask(task,elem.childtodo_id)\n              return{...elem,childtask_name:task}\n            \n                           }\n             return elem;\n            })\n      \n      )\n    } else{\n\n      setGetid(parseInt(getid+1))\n                     alert(getid)\n    setItems([{childtodo_id:getid,childtask_name:task,child_status:false},...items]);\n\n    setTasks(\"\")\n   \n   } }\n\n\n\n  const inputRef = useRef();\n  useEffect(() => {\n  inputRef.current.focus();\n\n                  })\n\n\n\n\n  const submitTask=()=>{\n   \n   let todolist_id=fetchid\n        \n  if(task){\n      Axios.post(`http://localhost:4000/users/${userid}/todolists/${todolist_id}/tasks`,{\n      task:task,\n      text:optionname,\n      Todoid:fetchid,\n      childtask_id:getid\n           \n   }).then(()=>{\n       alert(\"successful insert\")});\n       addItem();\n      \n             }\n       \n      \n                     };  \n\n\n \n   const editItem=(id)=>{\n      let newEditItem=items.find((elem)=>{\n    //alert(\"elem=\"+elem.childtodo_id)\n     //alert(\"id=\"+id)\n    \n    return elem.childtodo_id===id\n\n             });\n   setToggleBtn(false);\n   setTasks(newEditItem.childtask_name)\n   setIsEditItem(id)\n\n\n         }\n\n \n\n\n  useEffect(() => {\n     \n  Axios.get(`http://localhost:4000/fetchTaskid/${optionname}`,\n\n  {\n  \n  }).then(response=>{\n   \n     \n     var todoid=response.data[0].Todoid\n    \n     setFetchid(todoid)\n\n         \n     Axios.get(`http://localhost:4000/fetchdisplay/${todoid}`,\n     { \n        \n     }).then(response=>{\n         \n    //setItems([{id:Date.now(),childtask_name:task,child_status:false});\n \n     setItems(response.data)\n    \n       \n    \n     \n       })\n        .catch(err=>{\n          console.log(err)\n        \n        })\n   \n\n \n  })\n  .catch(err=>{\n    console.log(err)\n  \n               })\n// SetUsername( response.data[0].user)\n  \n}, []);\n\n\n\n\n\n\n  const getTask=(e)=>{\n    \n    let todolistid=fetchid\n   \n       Axios.get(`http://localhost:4000/users/${userid}/todolists/${todolistid}`,{\n        \n\n        }).then((response)=>\n        settskList(response.data)\n     \n        )  \n\n        setShowallCheck(e.target.checked)\n                       }\n\n\n\n\n\n  const updateTaskStatus=(txt,status,childtodo_id)=>{\n    // alert(\"update\"+txt)\n    let taskid=childtodo_id\n    let todolistId=fetchid\n     \n      Axios.put(`http://localhost:4000/users/${userid}/todolists/${todolistId}/tasks/${taskid}`,\n      { status:status,txtupdate:txt}).then((response)=>\n  \n      { alert(\"update\");\n\n      }\n    \n     );\n   \n   }\n\n\n\n\n\n    return(\n\n        <react.Fragment>\n          \n          <div class=\"parent_div\">\n                   <div class=\"container\">\n                \n                     \n                          <div class=\"secondcontainer\">\n                          <button id = \"x\" class=\"closebtn\"  onClick={()=>{history.push( \"/\")}}> X</button>\n                   \n                          <label class=\"heading\"> {optionname}</label> <br></br> \n                          \n                        <span class=\"thirdcontainer\">\n                          <input type=\"text\" class=\"todonametxt\" ref={inputRef}  title={validatevalue}   value={task}autoComplete=\"off\" maxLength=\"20\" onChange={(e)=>passData(e.target.value)}></input>&nbsp;&nbsp;\n                          </span>\n                          <span class=\"imgbutton\">\n                            {\n\n                              toggleBtn?<button onClick={submitTask}><img class=\"plusimage\" title=\"\" src=\"/image/plus.png\"></img></button>:<button onClick={addItem}><img class=\"plusimage\" title=\"edit\" src=\"https://img.icons8.com/color/48/000000/edit-property.png\"></img></button>\n                            }\n                            </span>\n                      \n                          { \n    \n    items.map((elm,ind)=>{\n   \n    \n   \n        return(\n          \n         \n                <div class=\"hhh\" key={ind}>\n                  \n\n                <input type=\"checkbox\"  name=\"taskname\"   onChange={(e)=>{\n                // alert(\"elmout\"+elm.id)\n                \n                 setItems(items.filter(obj2=>{\n\n                 \n         \n                  if(obj2.childtodo_id===elm.childtodo_id){\n                    \n                   obj2.child_status=e.target.checked\n\n  \n            \n               \n               updateTaskStatus(obj2.childtask_name,obj2.child_status,obj2.childtodo_id)\n                  \n                         \n                  }\n                  return obj2\n               \n                 \n                 })\n                 )}\n                 \n            \n                 \n               \n                 } value={elm.childtask_name} checked={elm.child_status==0?false:true} class=\"optionbtn\" name=\"option\"\n                \n                 />\n                 \n                            \n                \n \n         <label style={{textDecoration:elm.child_status==1?\"line-through\":\"none\"} }  name=\"text\">{elm.childtask_name}</label>\n         <img title=\"edit item\" class=\"editimg\" src=\"https://img.icons8.com/color/48/000000/edit-property.png\" onClick={()=>editItem(elm.childtodo_id)}/>\n         <i class=\"fa fa-trash\" title=\"delete Item\" onClick={()=>deleteItem(ind,elm.childtodo_id)}></i>\n\n          \n              </div>\n            \n            \n             ) \n            \n            }\n            \n            \n            \n\n                \n            )\n                       \n}\n\n\n\n\n\n                          </div>\n                          <div class=\"third_div\">\n\n                          <input type=\"checkbox\" class=\"\" value=\"0\" name=\"\" checked={showallCheck}  onChange={getTask}\n\n/>\n\n\n\n\n<span class=\"showcomplete_txt\" >\n     \n <label >completed Task</label></span>\n {\n     \n     tskList.map((val,key)=>{\n         \n     if(showallCheck===true){\n        \n         return (\n             <div class=\"showcheck\">        \n             <h4>Task Name:</h4>&nbsp;&nbsp;<h5>{val.childtask_name}</h5>\n             <h4>&nbsp;&nbsp;Created Date:</h4>&nbsp;&nbsp;<h5>{val.child_date}</h5>\n             </div>\n             \n                 )\n             }\n                 else {\n \n                     return null\n                 }\n                                  }\n                      )\n }  \n\n\n\n\n\n</div>\n                      \n      \n\n \n                  <span class=\"newbtn\"><input type=\"button\"  class=\"newbtn\" value= \" +   Cancel\"  onClick={()=>history.push(\"/taskinsert\")} /></span> \n                  \n      \n </div>\n </div>\n     \n            \n        \n          \n          </react.Fragment>\n          \n            \n          \n          )\n\n}\nexport default ChildList;"]},"metadata":{},"sourceType":"module"}